******************************************************************************
                                F E L L O W
                          EMULATEUR DE COMMODORE AMIGA
                    Par Petter Schau (pettersc@ifi.uio.no)
           Documentation et FAQ par Brett Eden (revere@sub.net.au)
******************************************************************************

*** VEUILLEZ LIRE CE DOCUMENT AVEC ATTENTION AVANT D'EXECUTER FELLOW ***

Cette archive contient Fellow V0.3.1,

Cet émulateur a été écrit par:

(C) Petter Schau en 1996/1997.  (pettersc@ifi.uio.no)

Ont également contribué à la programmation:

(C) Roman Dolejsi 1997          (roman@sorry.vse.cz)
(C) David Voracek 1997          (assassin@paru.cas.cz)



Conditions pour l'utilisation et la distribution de cet émulateur:
------------------------------------------------------------------

Les droits sur ce logiciel sont détenus par Petter Schau et les
contributeurs.

Vous êtes autorisés à utiliser ce logiciel gratuitement.

La libre distribution est autorisée, avec certaines restrictions.

Ce logiciel peut être distribué librement tant que le contenu de cette
archive reste intact et inchangé, et qu'aucun profit supérieur au prix
du support lui-même n'est tiré de la distribution.

La redistribution ne change pas les conditions sous lesquelles ce
programme peut être utilisé ou distribué.

Vous êtes autorisés à inclure ce logiciel sur des CD-ROM avec d'autres
logiciels librement distribuables.

Toute distribution qui ne respecte pas le principe d'une distribution
sans profit doit faire l'objet d'une demande d'autorisation auprès des
auteurs de ce logiciel.

Cet émulateur est fourni tel quel, vous l'utilisez à vos risques et
périls. Aucune garantie expresse ou implicite n'est donnée quant à
l'utilisation de ce logiciel, et l'auteur n'est soumis à aucune
obligation de fournir un quelconque support ou réparations en cas de
problème.

En utilisant ce logiciel, vous reconnaissez que l'auteur ne peut être
reconnu responsable d'éventuels problèmes liés à son utilisation.
Ceci est un logiciel expérimental utilisé à vos risques et périls.


Les conditions décrites ci-dessus s'appliquent également à l'archive
contenant le code source de cet émulateur.

Les conditions supplémentaires portant sur le code source de
l'émulateur sont les suivantes:

Vous pouvez le modifier à loisir pour votre usage personnel.

Si un ajout ou une modification peuvent s'avérer utiles à d'autres
utilisateurs, nous aimerions beaucoup que vous nous envoyiez un patch
afin de l'inclure dans l'arbre officiel.

L'inclusion de parties du code source dans d'autres logiciels
distribuables librement est autorisée du moment que les auteurs sont
prévenus au préalable et qu'ils sont crédités pour leur travail.


"AMIGA", "AmigaOS", "Kickstart" et "Workbench" sont des marques
déposées d'Amiga International. Les autres marques citées sont
détenues par leurs propriétaires respectifs.



Table des Matières:
------------------

1       INTRODUCTION
2       SYSTEME REQUIS
3       AVANT DE COMMENCER - PREREQUIS ESSENTIELS
3.1       Image Kickstart
3.1.1       Utiliser TransROM
3.2       Image Disque
3.2.1       Utiliser Transdisk
3.3       Copier des fichiers du PC -> AMIGA & AMIGA -> PC
4       EXECUTER FELLOW
5       MENU SYSTEME
5.1       Run
5.2       Soft Reset
5.3       Hard Reset
6       Debogueur
6.1       Step
6.2       Step over
6.3       Breakpoint
6.3.1       Set Breakpoint
6.3.2       Until Line 312
6.3.3       Until Event
6.4       Memory
6.5       Cia
6.6       IO
6.7       Trace on
6.8       Trace off
6.9      Show trace
6.10      Evlog config
6.11      Show evlog
7       CONFIGURATION
7.1       Disk
7.1.1       Diskimage in DF(x)
7.1.2       Drive (x) status
7.1.3       Disk-DMA speed
7.1.4       Alt-N cycling
7.1.5       File-requester
7.2       Screen
7.2.1       Screen resolution
7.2.2       Frame-skip ratio
7.2.3       Maximum frame-rate
7.2.4       Flicker-free interlace
7.2.5       Cycle exact drawing
7.2.6       Scale Y
7.3       Memory
7.3.1       Chip-memory
7.3.2       Fast-memory
7.3.3       Bogo-memory
7.3.4       Kickstart-image
7.3.5       Keyfile
7.4       Sound
7.4.1       Sound-emulation
7.4.2       Sound-quality
7.5       CPU
7.5.1       Cpu-type
7.5.2       Cpu-speed
7.6       Hardfile
7.6.1       Hardfile device state
7.6.2       Hardfile filename
7.7       Various
7.7.1       Joystick Port 1 & 2
7.7.2       Power Floppy Leds
7.7.3       Performance displayed on-screen
7.7.4       Menu-position saving on exit
7.7.5       Automatic run after commands
8           INTERFACE LIGNE DE COMMANDE
9           PETIT GUIDE DE DEMARRAGE
10          RACCOURCIS CLAVIER
10.1          Raccourcis dans l'interface utilisateur
10.2          Raccourcis pendant l'émulation



1 Introduction
---------------

Bienvenue dans Fellow, un émulateur de Commodore Amiga pour les PC
compatibles. Cette documentation traite des caractéristiques et de
l'utilisation de Fellow 0.3.1. Vous y trouverez également des
informations sur sa configuration et son utilisation optimale. Fellow
est un émulateur logiciel.

Fellow est similaire à UAE, un autre émulateur Amiga écrit par Bernd
Schmidt avec l'aide d'autres contributeurs. Fellow est différent dans
le sens où il a été écrit spécifiquement pour MS-DOS, et en
assembleur x86 pour certaines routines dont la vitesse est
déterminante. De ce fait, Fellow jouit d'un avantage indiscutable en
rapidité par rapport à UAE. Cependant, UAE présente de nombreuses
caractéristques au niveau de l'émulation de l'OS Amiga qui manquent
encore à Fellow à ce jour.

Le fonctionnement de Fellow est très similaire à celui d'UAE. Si vous
avez déjà utilisé UAE, Fellow ne devrait vous poser aucun probleme. Si
vous voulez en savoir plus sur l'émulation Amiga, vous êtes
vivement encouragés à lire la documentation de UAE, vous y trouverez
beaucoup d'information ne figurant pas ici.




2 SYSTEME REQUIS
----------------

Pour pouvoir exécuter Fellow, votre système doit au minimum répondre
aux spécifications suivantes:

* Un ordinateur compatible IBM PC avec un processeur 486 ou plus rapide
* MS-DOS version 5.00 ou supérieure
* 11 Mo de RAM
* Une carte video compatible VGA
* Une souris

Il est RECOMMANDE de posséder au minimum le matériel ci-dessous pour
profiter au maximum de Fellow:

* Un ordinateur compatible IBM PC avec un processeur 486 100 MHz ou plus
  rapide
* MS-DOS version 5.00 ou supérieure
* 16-20 Mo de RAM (peut utiliser jusqu'à 28 Mo si disponibles)
* Une carte vidéo PCI compatible (S)VGA avec support VBE 2.0
* Une carte son Soundblaster ou compatible

* En option, un processeur MMX dans certains cas.

Si votre carte video ne supporte pas les Extensions VESA BIOS 2.0, vous
devez vous procurer un driver VBE 2.0 sous DOS pour votre carte video
(essayez de visiter la page web du fabricant), ou Scitech Display
Doctor, disponible sur le net.

Si votre carte ne supporte pas VBE 2.0, certaines résolutions d'écran
ne seront pas disponibles quand vous exécuterez Fellow!

Fellow est assez gourmand en CPU, et si vous voulez que vos programmes
Amiga aux graphismes intensifs s'exécutent à la vitesse d'un "vrai
Amiga", vous aurez besoin d'un Pentium 133-150 et d'une carte video PCI
rapide. D'autres facteurs influencent également le résultat, comme une
RAM rapide (sachant que le temps d'accès est de 12ns pour de la RAM
DIMM, et de 60ns et 70ns pour les barettes SIMM -EDO ou non EDO
respectivement).


3 AVANT DE COMMENCER - PREREQUIS ESSENTIELS
-------------------------------------------

Avant de pouvoir utiliser Fellow, vous aurez besoin de 2 choses: une
image Kickstart et une image disque.


3.1 Image Kickstart
-------------------

C'est une copie d'une ROM Kickstart AmigaDOS, prélevée sur un VRAI
Amiga. Ce fichier est extrait au moyen d'un programme appelé
"TransROM", qui est inclus dans Fellow. Kickstart étant un logiciel
appartenant à Amiga International et protégé par copyright, il est
bien sûr impossible de l'inclure dans l'émulateur. Il vous faut copier
ce logiciel à partir de l'Amiga que vous possédez.


3.1.1 Utiliser TransROM
-----------------------

TransROM doit être copié sur un vrai Amiga afin de faire une copie de
la ROM Kickstart dans un fichier.


CLI> transrom >RAM:kick.rom

Copiera la ROM dans un fichier appelé "kick.rom" situé en RAM:. Ce
fichier doit alors être copié sur un PC, dans le répertoire de Fellow
(bien qu'il soit possible de l'appeler à partir d'un répertoire
différent).



3.2 Image Disque
-----------------

Vous aurez également besoin de l'"image" d'une vraie disquette Amiga,
contenant le jeu/démo que vous voulez exécuter sous Fellow. Vous
l'obtiendrez en utilisant un programme nommé "transdisk", également
inclus dans Fellow.

Une image disque est un fichier contenant les données normalement
stockées sur une disquette.

Un lecteur de disquettes PC ne peut pas lire des disquettes Amiga, donc
pour utiliser Fellow vous DEVEZ avoir l'image disque d'une disquette
Amiga.


3.2.1 Utiliser Transdisk
------------------------

Comme TransROM, il faut copier Transdisk sur un vrai Amiga pour
pouvoir s'en servir.

Transdisk s'exécute à partir du prompt du shell AmigaDOS, et copie une
disquette, piste par piste, dans un fichier (qui peut être lu par
Fellow).

CLI> transdisk >RAM:df0.adf

Fabriquera une image de la disquette présente dans DF0:. Le nom df0.adf
n'est pas obligatoire, vous pouvez utiliser le nom de votre choix.


3.3 Copier des fichiers du PC -> AMIGA & AMIGA -> PC
----------------------------------------------------

1. Vous pouvez faire des transferts Zmodem entre un Amiga et un PC à
l'aide d'un câble null-modem. Il suffit de connecter le câble aux port
série de chaque machine, de charger un programme de terminal comme
Terminus, NComm ou Term sur l'Amiga, ou Terminate, Telemate, Telix (ou
HyperTerminal pour Windows 95 si vous insistez) sur le PC. Initialisez
alors un upload Zmodem sur l'Amiga. Si votre configuration est correcte
(la réception Zmodem automatique côté récepteur devrait être activée),
le PC acceptera automatiquement la transmission, et déchargera le
logiciel sur votre disque dur.


Pour de meilleurs résultats, procurez-vous un exemplaire du
périphérique série de remplacement BaudBandit pour l'Amiga, et
configurez les deux côtés à 57,600 Baud. BaudBandit devrait permettre
d'atteindre des transferts jusqu'à 5500cps vers/à partir d'un Amiga à
base de 68000 - ce programme est disponible sur AmiNET.


Si vous êtes avez un A500 avec AmigaOS 1.2/1.3 et un seul lecteur de
disquette, vous pourriez bien être dans la panade. A moins d'avoir un
logiciel de Terminal sur un disquette que vous pouvez booter ou
utiliser sur un second lecteur, vous n'avez aucun moyen d'utiliser un
câble null-modem pour communiquer avec le PC (condition essentielle
pour transférer des programmes comme transdisk ou transrom sur une
disquette Amiga). Une façon de vous en sortir serait de contacter un
groupe d'utilisateurs d'Amiga, qui pourraient vous fournir une telle
disquette, ou un distributeur de shareware Amiga près de chez vous.

Note: Certains Amigas permettent de verrouiller le port série à 115,200
bauds. Ceci dépend largement de la machine, de la révision de sa carte
mère, et de son processeur. En verrouillant le port série à 115,200
bauds à la fois sur l'Amiga et le PC, vous pouvez réellement transférer
des fichiers par câble null-modem à plus de 10,100cps.



2. Si vous n'avez pas de câble null-modem, ou qu'en posséder ne vous
intéresse pas particulièrement, vous pouvez transférer le logiciel
Amiga vers le PC en utilisant une disquette PC 720k. Workbench 2.1+ est
livré avec CrossDOS, qui est un logiciel permettant de lire des
disquettes PC 720k dans le lecteur de disquettes de votre Amiga. Si
vous n'avez pas CrossDOS (si vous n'avez pas Workbench 2.1 ou
supérieur), vous pouvez également utiliser MessyDOS, disponible sur
Aminet. Voici un guide pas à pas du transfert de logiciel par
disquette.

     i) Formattez une disquette PC 720k sur votre PC ou sur votre Amiga
     en utilisant CrossDOS.

     ii) Créez un fichier .ADF ou une image de la ROM Kickstart avec la
     méthode ci-dessus.

     iii) Compressez ce fichier en utilisant Lha ou Zip (assurez-vous
     que ces programmes sont sur le PC, afin de pouvoir les
     décompresser par la suite)

     iv) Copiez cette archive sur la disquette 720k, en utilisant
     CrossDOS ou MessyDOS.

     v) Transportez la disquette jusqu'au PC, copiez l'archive sur le
     disque dur, et décompressez-la. Copiez l'image Kickstart ou le
     fichier .ADF dans le répertoire de Fellow et c'est parti.



4 EXECUTER FELLOW
-----------------

Fellow s'exécute en appelant simplement FELLOW.EXE à partir du prompt
DOS. Après avoir entré la commande, vous verrez apparaître un écran de
menu: l'interface utilisateur. La partie au milieu présente des
informations sur les disques actuellement affectés aux lecteurs de
disquettes, et sur la présence éventuelle d'une ROM Kickstart.



5 MENU SYSTEME
--------------

La partie inférieure droite de l'écran contient le menu système.
Utilisez les flèches curseur pour parcourir les menus, et appuyez sur
Entrée pour en sélectionner un. Des raccourcis clavier, en surbrillance
verte, sont également disponibles. La touche ESC vous fait remonter
d'un niveau de menu.

Le menu système est divisé comme suit:

Run                     (Exécuter)
Debugger                (Débogueur)
Configuration
Soft Reset              (Remise à zéro logicielle)
Hard Reset              (Remise à zéro matérielle)
Quit                    (Sortie)


Le débogueur et la configuration font l'objet de chapitres distincts
plus loin.


5.1 "Run"
---------
Exécuter

Cette option démarre l'émulation Amiga, l'émulateur essayant de booter
sur l'image disque affectée au lecteur DF0:.



5.2 "Soft Reset"
----------------
Remise à zéro logicielle

Cette option remet l'Amiga émulé à zéro. Le Soft Reset devrait
préserver le contenu de la mémoire et permettre aux programmes
résidents de survivre, bien que je ne sois pas sûr à 100% que cette
option se conduise bien comme prévu. Le Soft Reset peut se révéler
instable et provoquer une GURU Meditation ou quelque chose du même
acabit si l'Amiga est victime des assauts d'un méchant programme.

Si aucun Kickstart n'est chargé, un bootstrap de remplacement sera
utilisé pour la disquette insérée dans DF0. Dans certains cas il est
possible de booter des programmes n'ayant pas besoin des routines
Kickstart pour fonctionner. Si l'image disque est changée avant de
lancer l'émulation et après le reset précédent, il faut refaire un
reset.


5.3 "Hard Reset"
----------------
Remise à zéro matérielle

Cette option efface la totalité de la mémoire (Amiga) et réinitialise
l'émulation.

Si aucun Kickstart n'est chargé, ceci activera le bootstrap de
remplacement pour la disquette insérée dans DF0.

Si aucun Kickstart n'est chargé, un bootstrap de remplacement sera
utilisé pour la disquette insérée dans DF0. Dans certains cas il est
possible de booter des programmes n'ayant pas besoin des routines
Kickstart pour fonctionner. Si l'image disque est changée avant de
lancer l'émulation et après le reset précédent, il faut refaire un
reset.


6 DEBOGUEUR
-----------

Un utilisateur ordinaire n'aura probablement jamais à utiliser le
débogueur, donc si vous ne comprenez pas les explications ci-dessous,
sautez simplement cette partie.

Le débogueur est un environnement simple dans lequel on peut entre
autres choses examiner l'état de l'Amiga émulé. Il contient un
désassembleur basique qui montre le code entourant le compteur du
programme, et l'état du processeur Motorola 68000 émulé. On peut
exécuter les instructions pas à pas ou jusqu'à un point d'arrêt. La
mémoire peut être examinée, ainsi que certains registres des chips
spécifiques Amiga. Des fonctions de trace sont également disponibles
(après compilation (*).)

Le sous-menu du débogueur est divisé comme suit:

Step
Step Over
Breakpoint
Memory
Cia
Wav Capture
Trace on (*)
Trace off (*)
Show trace (*)
Evlog config (*)
Show evlog (*)


6.1 "Step"
----------

Exécute l'instruction suivante (avance d'une instruction)


6.2 "Step over"
---------------

Place un point d'arrêt sur l'instruction suivante, et l'émulateur
s'exécute jusqu'à cette instruction (utile pour passer les boucles et
les instructions jsr/bsr).


6.3 "Breakpoint"
----------------

Cette option appelle un autre sous-menu; l'émulateur s'exécute jusqu'à
ce que la condition sélectionnée soit remplie.

Le sous-menu est divisé comme suit:

Set Breakpoint
Until line 312
Until Event


6.3.1 "Set Breakpoint"
----------------------

Vous permet d'entrer l'adresse de l'instruction qui agira comme point
d'arrêt. L'exécution démarre quand le point d'arrêt est reglé.


6.3.2 "Until Line 312"
----------------------

Le programme s'exécute jusqu'à atteindre la ligne 312 (position du
faisceau).


6.3.3 "Until Event"
-------------------

Le programme s'exécute jusqu'à ce qu'un évenement mémorisé survienne.
Les événements à mémoriser sont définis dans l'option "Evlog config"
située dans le premier niveau du menu du débogueur.


6.4 "Memory"
------------

Affiche la mémoire. Vous pouvez vous déplacer avec les flèches de
curseur haut et bas et Page Précédente/Suivante. Les touches "h" et "a"
affichent le format hexadecimal ou ascii.



6.5 "Cia"
---------

Affiche l'état des registres des circuits CIA.


6.6 "IO"
--------

Affiche l'état des registres des chips spécifiques Amiga. Cette option
appelle un sous-menu dans lequel on peut sélectionner les registres de
différentes unités.

6.7 "Trace on"
--------------

Active l'historique des instructions CPU. Les 500000 dernières
instructions seront mémorisées.


6.8 "Trace off"
---------------

Désactive l'historique des instructions CPU.


6.9 "Show trace"
----------------

Affiche l'historique des instructions CPU.


6.10 "Evlog config"
-------------------

Active et configure la mémorisation d'événements, on peut tracer les
interruptions et les exceptions.


6.11 "Show evlog"
-----------------

Affiche les événements mémorisés.


7 CONFIGURATION
---------------

Le menu de configuration est divisé en sous-menus, qui vous permettent
de modifier différents paramètres de l'émulation.


7.1 "Disk"
----------
Disque

Ce sous-menu contrôle divers aspects de la configuration de l'image
disque.

7.1.1 "Diskimage in DF(x)"
--------------------------
Image disque dans DF(x)

(x) étant compris entre 0 et 3.

Ces options vous permettent d'affecter des images disques à n'importe
lequel des 4 lecteurs de disquettes de l'Amiga.

Si vous désirez booter sur une disquette au démarrage de l'émulation,
celle-ci doit obligatoirement être affectée à DF0:.

La touche Supr. permet d'éjecter l'image disque du lecteur virtuel.

Les touches ALT-0 à 9 permettent d'insérer dans le lecteur virtuel le
fichier dont le nom est stocké dans une des 10 mémoires (ces touches
sont expliquées plus loin, dans la sélection de fichier).

Les images disque compressées avec gzip ou bzip seront décompressées
dans le répertoire temporaire défini par les variables d'environnement
TEMP ou TMP. Les modifications faites à ces fichiers seront perdues,
puisque seules les images temporairement décompressées seront
modifiées.



7.1.2 "Drive (x) status"
------------------------
Statut Drive (x)

(x) étant compris entre 0 et 3.

Ces options vous permettent de désactiver les lecteurs afin que l'Amiga
ne les détecte pas. Le but étant qu'AmigaOS n'allouera pas de buffer
pour le lecteur, ce qui libère ainsi quelques KiloOctets pour une autre
utilisation.

L'utilisation principale de cette option est de permettre l'exécution
d'anciennes démos qui étaient compressées avec des cruchers cassés.

En utilisation normale, laissez les lecteurs activés.


7.1.3 "Disk-DMA speed"
----------------------
Vitesse DMA disque

Vous permet de choisir la vitesse de lecture des fichiers
disques virtuels par le lecteur de disquettes. Les accès disques
étaient lents à l'origine, mais l'émulation permet de les accélerer
grandement.

Les valeurs possibles sont "Original" (vitesse originale) and "Fast"
(rapide).

Souvenez-vous cependant que certains programmes ne marcheront qu'avec
une vitesse DMA "Original".


7.1.4 "Alt-N cycling"
---------------------
Rotation Alt-N

Controle l'endroit où ira le curseur si on appuie sur Supr., ou si une
image disque est affectée à une mémoire.


7.1.5 "File-requester"
----------------------
Sélection de fichier

La sélection de fichier est activée quand on choisit l'option
"Diskimage in DF(x)". Parcourez vos répertoires et sélectionnez l'image
à insérer avec Entrée.

Quelques fonctions spéciales:

Quickfind (recherche rapide) : Tapez le début du nom d'un fichier, et
            le curseur se déplacera sur le nom le plus proche.

ALT-(x) :   Affiche le contenu du répertoire courant du lecteur x:


Mémorisation:

Lorsque le curseur est sur un nom de fichier, vous pouvez appuyer sur
ALT- 0  à 9 pour mémoriser son nom et le récupérer plus tard, comme
expliqué plus haut.

La combinaison ALT- | (alt + pipe) efface tous les noms mémorisés.

7.2 "Screen"
------------
Ecran

Ce menu permet de choisir les paramètres graphiques de l'émulation.

7.2.1 "Screen resolution"
-------------------------
Résolution de l'affichage

Contrôle quelle résolution de la machine hôte sera utilisée par
l'émulateur. Les résolutions dépendent des possibilités de votre
pilote VESA.

7.2.2 "Frame-skip ratio"
------------------------
Fréquence des trames ignorées

Contrôle à quelle fréquence est rafraîchi l'écran. Un rapport de
1/1 rafraîchit l'écran aussi souvent que possible.

Des rapports plus faibles auront pour effet de saccader les animations,
etc., mais économiseront beaucoup de temps machine qui pourra être
consacré à d'autres tâches de l'émulation.


7.2.3 "Maximum frame-rate"
--------------------------
Taux maximum de rafraîchissement des trames

Contrôle les limites en temps imposées à l'émulateur.

"Unlimited" (illimité) désactivera tout contrôle des temporisations, et
l'émulateur s'exécutera aussi rapidement que possible. Ceci affecte
également la vitesse de répétition des touches. Choisir une vitesse
trop élevée peut rendre l'utilisation du clavier impossible.

"50 hz" limite la vitesse à celle d'un A500 PAL normal.

"Synch with VGA-card" (synchrone à la carte VGA) tentera de
synchroniser l'affichage au rafraichissement de la résolution VGA
utilisée. Dans certains cas, le résultat peut être parfaitement fluide.
Etant donné que le taux de rafraichissement du PAL n'est presque jamais
égal à celui des modes VGA, le résultat sera le plus souvent une
dégradation de la vitesse de l'émulation sonore et de l'application en
général.

Ce paramètre est ignoré lorsque l'émulation sonore est synchronisée à
l'émulation.

7.2.4 "Flicker-free interlace"
------------------------------
Entrelacement sans scintillement

Ce paramètre, quand il est activé, tentera de désentrelacer un écran
Amiga entrelacé.

Ceci n'est valide que quand l'émulateur utilise un écran SVGA 800x600.


7.2.5 "Cycle exact drawing"
---------------------------
Tracé cyclique exact

Option très expérimentale. Quand elle est activée, des effects tels que
l'effet plasma seront émulés correctement.

NOTE: Garder cette option constamment active n'a aucun sens. Elle
demande encore beaucoup de réglages et de travail pour fonctionner
correctement et sans danger. La meilleure façon de l'utiliser est de ne
l'activer que pour regarder un effet particulier.


7.2.6 "Scale Y"
---------------
Echelle Y

Cette option permet à la carte VGA d'afficher l'écran Amiga avec un
meilleur aspect (rapport horizontal/vertical). Ceci ne concerne que
certaines résolutions (800x600, 640X480, 640x400, 640x350).


N'utilisez pas cette option si votre carte est compatible VESA mais
n'est pas compatible avec les registres VGA.



7.3 "Memory"
------------
Mémoire

Ce menu contrôle la configuration de la mémoire dont l'Amiga émulé
dispose.

7.3.1 "Chip-memory"
-------------------
Mémoire chip

Cette option permet de choisir la quantité de RAM chip émulée. Les
valeurs autorisées vont de 256kB à 2048 kB.


7.3.2 "Fast-memory"
-------------------
Mémoire rapide

Cette option permet de choisir la quantité de RAM rapide émulée. Les
valeurs autorisées sont 0, 1, 2, 4 et 8 MB.


7.3.3 "Bogo-memory"
-------------------
Mémoire lente

Cette option permet de choisir la quantité de RAM lente (Bogo) émulée.
Ce troisième type de mémoire correspond aux cartes d'extension mémoire
qui se connectaient dans l'ouverture située dans le fond des Amiga 500.
Les valeurs autorisées vont de 0 à 1792 kB.



7.3.4 "Kickstart-image"
-----------------------
Image Kickstart

Permet de définir l'emplacement de l'image de la ROM AmigaOS
(nécessaire pour exécuter les programmes qui lancent Workbench, ou pour
Workbench même). Cette option appelle un menu simple de sélection
de fichier, dans lequel vous devrez choisir le fichier ROM.
Par défaut, Fellow recherche le fichier "kick.rom".

Ces fichiers doivent avoir l'extension .rom .


7.3.5 "Keyfile"
---------------
Ficher clé

Pour spécifier le fichier clé utilisé pour déverouiller les Kickstarts
encryptés.



7.4 "Sound"
-----------
Son

Ce sous-menu permet de configurer l'émulation du son.
Il est impossible d'émuler le son si aucune carte sonore n'est détectée.


7.4.1 "Sound-emulation"
------------------------
Emulation sonore

Sélectionne le type de l'émulation sonore. Les possibilités sont:

"No sound"             - Aucun son: le son n'est ni émulé ni diffusé
"Emulated, not played" - Le son est émulé mais n'est pas diffusé

Ces deux choix sont toujours disponibles.

Les options suivantes ne sont disponibles que quand une carte sonore
(Soundblaster) a été détectée:

"Normal, synchronized with emulation" - Normal, synchronisé avec
                                        l'émulation, c'est la méthode
                                        de restitution la plus fidèle
"Normal, synchronized with real-time" - Normal, synchronisé avec le
                                        temps réel, cette option
                                        fonctionnera peut-être sur des
                                        systèmes plus lents, mais la
                                        vitesse de restitution peut
                                        varier énormément. Dans tous
                                        les cas, le son sera presque
                                        synchronisé à l'image.

L'option "Normal, synchronized with emulation" est recommandée.


L'utilisation de l'option "Normal, synchronized with real-time" peut
causer d'importantes distorsions sonores. La vitesse sera incorrecte et
peut également varier de façon importante, elle dépend de façon directe
de la vitesse de l'émulation. La méthode utilisée pour implémenter
cette option fonctionne bien sur des Pentiums, en revanche les cpu AMD
K6 ont une très mauvaise réaction en terme de vitesse.



7.4.2 "Sound-quality"
---------------------
Qualité sonore

Permet de déterminer la qualité sonore. Différentes modes
d'échantillonage sont disponibles selon la Soundblaster que vous
possédez: 8-16bits, mono/stereo.

NOTE: sélectionner 44100 hz n'apporte aucun avantage et engloutira
allègrement vos cycles cpu.

31300 hz semble un bon compromis vitesse/qualité.
Il n'y a que très peu de différence de vitesse entre les modes 8/16
bits mono/stereo.


7.5 Cpu
-------

Ce sous-menu permet de configurer l'émulation de la CPU.


7.5.1 "Cpu-type"
----------------
Type de CPU

Pour l'instant, seule l'option 68000 est fonctionnelle. L'option 68030
est en cours de développement. On peut la sélectionner mais elle est
inutilisable.



7.5.2 "Cpu-speed"
-----------------
Vitesse CPU

Contrôle la vitesse virtuelle de la CPU émulée. A ne pas confondre avec
les performances réelles.

Les possibilités sont "original", qui correspond à une cpu cadencée
à 7.14 MHz, et "fast" (rapide), qui correspond à une cpu cadencée à 28
MHz (l'option rapide permet également d'exécuter les opérations Blitter
immédiatement sans pénaliser la temporisation).


7.6 "Hardfile"
--------------
Fichier disque dur

Ce sous-menu contrôle les fichiers de disque dur.

Un fichier de disque dur permet de fournir une mémoire de masse à un
Amiga émulé. C'est un très gros fichier qui est utilisé comme un disque
dur. Il peut avoir n'importe quelle taille.

Les fichiers disque dur ne peuvent être utilisés que si la version de
votre kickstart est égale ou supérieure à v2.0.

Souvenez-vous qu'il faut formater un nouveau fichier disque dur.

Vous pouvez booter à partir de n'importe quel fichier de disque dur -
ils ont une priorité au démarrage inférieure à DF0, mais supérieure à
DF1.


Vous pouvez aussi utiliser des fichier ADF non compressés à la place de
fichiers de disque dur.

Les unités sont appellées FELLOW0, FELLOW1...

NOTE: Si vous changez le setup du fichier de disque dur, un hard reset
sera fait automatiquement.


7.6.1 "Hardfile device state"
-----------------------------
Etat du périphérique fichier de disque dur

Les fichiers de disque dur peuvent être activés ou désactivés.

7.6.2 "Hardfile filename"
-------------------------
Nom du fichier de disque dur.

Cette option permet de sélectionner le fichier (fichier de disque dur
ou fichier ADF) que vous voulez utiliser.


7.7 "Various"
-------------
Divers

Ce sous-menu contient d'autres paramétrages.


7.7.1 "Joystick Port 1 & 2"
---------------------------

Pour controller les ports joysticks de l'Amiga.

Les options sont:

Disabled (désactivé), Mouse (souris), Analog Joystick (joystick
analogique), Keyboard Joystick Replacement 1 & 2 (remplacement
clavier des joysticks 1 & 2).

Les remplacements clavier des joysticks 1 & 2 sont:

Flèches curseur, CTRL droit pour bouton 1 et ALT droit pour bouton 2

ou

'D' gauche, 'F' bas, 'G' droite, 'R' haut, CTRL gauche bouton 1, ALT
gauche bouton 2.


Le maniement du joystick analogique n'est pas très aisé. Pour le
calibrer, faites tourner la manette pendant l'émulation.

Si vous trouvez l'émulation du joystick analogique de Fellow
insuffisante, vous pouvez vous procurer Joyemu, qui gère bien mieux le
joystick analogique (vous trouverez Joyemu à l'adresse
http://www.dsi.unive.it/~szanella/index.htm )


7.7.2 "Power Floppy Leds"
-------------------------
Leds Marche - Lecteur

Pour définir l'emplacement de l'affichage de diverses leds, telles que
la led de marche/arrêt et les leds des lecteurs de disquette.

Il est également possible d'ajouter une carte de leds (ajout de Roman
Dolejsi). Voir ledboard.txt.


L'option "Keyboard led order" permet de définir l'ordre des leds sur
votre clavier.


7.7.3 "Performance displayed on-screen"
---------------------------------------
Affichage des performances à l'écran

Affichage le rapport entre la vitesse de l'Amiga émulé et celle d'un
Amiga réel, pour lequel on prend une vitesse de 50 trames/seconde. Ce
rapport est affiché en haut et à droite de l'affichage Fellow.

Ce chiffre est approximatif.


7.7.4 "Menu-position saving on exit"
------------------------------------
Sauvegarde de la position des menus en quittant

Cette option est encore expérimentale. Elle permet de mémoriser les
mouvements qui ont été faits dans les menus, pour les restituer lors du
démarrage suivant de l'émulateur.


7.7.5 "Automatic run after commands"
------------------------------------
Exécution automatique après les commandes

On peut activer une exécution automatique après certaines commandes.


8  INTERFACE LIGNE DE COMMANDE
------------------------------


Les options de configuration peuvent également être entrées sur la
ligne de commande.

Voici une brève liste de ces options, reportez-vous aux explications
des paramètres correspondants dans la partie Interface utilisateur.


Paramètres divers:

-h                         Affiche cette liste
-log                       Génère un rapport à l'initialisation
                           Utile pour voir le matériel détecté par
                           l'émulateur
-nogui                     Désactiver l'interface utilisateur au
                           démarrage
-config file               Pour utiliser un autre fichier que celui par
                           défaut, fellow.cfg dans le répertoire courant.
-ns                        Pour ne pas sauvegarder la configuration en
                           quittant


Configuration images disque:

-0 fichier                 fichier disque dans df0
-1 fichier                 fichier disque dans df1
-2 fichier                 fichier disque dans df2
-3 fichier                 fichier disque dans df3
                           Voir section 7.1.1

-0e +|-                    Active/désactive df0
-1e +|-                    Active/désactive df1
-2e +|-                    Active/désactive df2
-3e +|-                    Active/désactive df3
                           Voir section 7.1.2

-ds +|-                    Active/désactive le DMA disque rapide
                           Voir section 7.1.3

-dmX file                  Contenu de la mémoire disque X (0..9)
                           Voir section 7.1.4

-dchemin répertoire/fichier
                           Chemin du disque actif. La sélection de
                           fichier démarrera sur ce chemin/fichier à la
                           première utilisation.

-rmpos +|-                 Active/désactive la mémorisation de la
                           position des menus en quittant
                           Voir section 7.7.4

-mpos /../...              Spécifier la position du menu actif
                           Described in 7.7.4


Configuration fichier disque dur:

-hf fichier                Nom du fichier disque dur, voir 7.6.2
-he +|-                    Active/désactive le fichier de disque
                           dur, voir 7.6.1
-hi taille                 Crée (met à zéro!) le fichier de disque dur
                           spécifié, la taille est définie en Mo.


Configuration mémoire:

-c taille                  Quantité de mémoire chip, taille*256k,
                           valeur par defaut: 2Mo, voir en 7.3.1
-fm taille                 Quantité de mémoire rapide, en Mo (0, 1, 2,
                           4, 8), voir en 7.3.2
-b taille                  Quantité de mémoire lente, taille*256k,
                           valeur par défaut : 1.75MB, voir en 7.3.3
-r fichier                 fichier contenant Kickstart, voir en 7.3.4
-K fichier                 Fichier clé pour Kickstart encrypté, voir
                           en 7.3.5

Configuration Joystick:

-j1 n|a|m|k1|k2
-j2 n|a|m|k1|k2            Port joystick 1 ou 2:
                           n - aucun, a - Joystick Analogique
                           m - souris, k1 - replacement clavier 1
                           k2 - replacement clavier 2
                           Voir en 7.7.1


Configuration sonore:

-s d|n|c|e                 d - désactivé n - normal c - continu
                           e - emulé, non diffusé
                           Voir en 7.4.1
-sf fréqence               Fréquence: 44100,31300,22050,15650
-ss on|off                 Stereo, marche ou arrêt
-sb bits                   8 ou 16 bits

-sf,ss,sb                  voir en 7.4.2

-s1                        Force le pilote Soundblaster V1.0


Configuration de l'écran:

-res 320200b|320200|320240|640350|640400|640480|800600
                           Résolution, défaut: 800600
                           Voir en 7.2.1
-v none|50|vga             Limite fréquence rafraichissement écran:
                           none (aucun), 50 - 50hz, vga - en fonction
                           de la carte VGA
                           Voir en 7.2.3

-f nombre                  Ignorer une frame sur (nombre). Voir en 7.2.2
-i on|off                  Désentrelacement en résolution 800x600
                           Voir en 7.2.4


Configuration CPU:

-cpu 0|3                   Type CPU: 0 - 68000  3 - 68030
                           Voir en 7.5.1
-cs normal|max             Vitesse d'horloge du M68000 émulé et du
                           Blitter. Voir en 7.5.2


Configurations diverses:

-p on|off                  Affichage de la vitesse à l'écran. Voir en
                           7.7.3
-l scr|kb?|lp?|lp?m|off    Indicateurs led:
                           scr -à l'écran (800x600 seulement)
                           kb1 - sur le clavier (lecteurs 0, 1, 2)
                           kb2 - sur le clavier (marche, lecteurs 0, 1)
                           kb3 - sur le clavier (marche, lecteurs 0+1,
                           2+3)
                           lp1/2/3 - sur la carte led sur le port
                           parallèle
                           lp1/2/3m - sur la carte led sur le port
                           parallèle (inversé)
                           Voir en 7.7.2
-lk ncs|nsc...             Utiliser les leds sur le clavier PC dans
                           l'ordre spécifié (Verr Num = N, Verr Maj =
                           C, Arrêt défil = S)
                           Voir en 7.7.2

-altn 1..4                 Boucle Alt-N sur les lecteurs
                           Voir en 7.7.4
-arun none|altn|res        Execution automatique après les commandes
                           Voir en 7.7.5


9 PETIT GUIDE DE DEMARRAGE
--------------------------

Une fois que vous avez copié une disquette Amiga dans un fichier .adf
et que vous l'avez transféré sur votre PC, démarrez Fellow et affectez
cette image disque au lecteur DF0:.

Si c'est une disquette du Workbench, assurez-vous d'avoir copié votre
ROM kickstart et de l'avoir placé dans le répertoire de Fellow sous le
nom "kick.rom", à moins d'avoir choisi un autre répertoire/nom dans le
menu de configuration.


En l'absence de Kickstart, Fellow n'utilisera pas le bootstrap Amiga
normal et essaiera de booter quand même. Cela marche avec quelques
démos et jeux qui n'utilisent pas les routines de Kickstart et qui se
débrouillent tous seuls. Un reset peut s'avérer nécessaire après avoir
inséré un fichier disque.

Choisissez la quantité de RAM désirée, configurez l'émulation sonore en
fonction de votre matériel, et choisissez "RUN" dans le menu principal.

Si tout va bien, Fellow devrait booter votre image disque.


10 RACCOURCIS CLAVIER
---------------------

Des raccourcis claviers sont disponibles dans l'interface utilisateur
et pendant l'émulation.

10.1 Raccourcis clavier dans l'interface utilisateur
----------------------------------------------------

     F5: Soft Reset
     F7: Hard Reset
     F9: Start
    F11: Debugger
  Alt-D: Configuration lecteurs de disquette
  Alt-F: Rapport de trames ignorées
  Alt-H: Configuration fichier disque dur
  Alt-J: Configuration joystick
  Alt-L: Configuration LED
  Alt-M: Configuration mémoire
  Alt-R: Configuration de la résolution
  Alt-S: Configuration sonore
  ESC  : Remonte d'un niveau dans les menus, démarre l'émulation quand
         on est dans le menu le plus haut.


10.2 Raccourcis clavier pendant l'émulation
-------------------------------------------

F12                     - Retour à l'interface utilisateur.
HOME + PGUP/PGDOWN      - change la résolution.
HOME + flèches pavé numérique
                        - centre l'affichage dans les modes VGA basse
                          résolution
HOME + F11              - Capture l'écran dans un fichier BMP.
HOME + F1/F2/F3/F4      - Insère l'image disque dans le lecteur
END  + F1/F2/F3/F4      - Ejecte l'image disque du lecteur
END  + PGUP/PGDOWN      - Bascule le doublement des lignes (seulement
                          dans certains modes VGA) (même effet que
                          l'option "Scale Y", voir en 7.2.6).



----------------------------------------------------------------------------

Ce document a été rédigé par Brett Eden. Si vous avez des questions (ou
autres), il peut être joint à revere@sub.net.au.

Mise à jour pour la version V0.3.1. par Petter Schau



